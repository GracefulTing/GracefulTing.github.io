### 面向对象编程（OOP）

html是标记语言

对象：一种泛指，js中万物皆对象

类：对象的一种细分

实例：某一个类别中具体的事物

具备Symbol(Symbol.iterator)属性的，说明它是可被迭代的数据结构 => 可以用ES6中的for of循环。

### 构造函数

**构造函数相比普通函数的区别**：

1. 构造函数执行，也具备普通函数执行的一面（也会像普通函数一样去执行）；

2. new函数执行的特殊性：

   - 私有上下文中要做的第一件事情是 " 创建一个空对象【是当前类的实例对象】 "；----------开辟堆内存AF0
   - 初始化this时，让上下文中的this指向创建的实例对象；---------> this执行堆地址AF0
   - 即使函数中没有return，也会默认把创建的实例对象返回。如果有return且返回的是基本类型值，默认返回的还是实例；如果return返回的是引用类型值，则返回的不是实例，以return的为主；

   - let f = nw Func；   

     不加()，属于不带参数new（依然会执行函数，只是不能传递实参而已），创建出当前类的一个新实例。
     
     【带参数优先级：19               不带参数优先级：18】

3. 代码执行中遇到的this.xxx=xxx都是给当前实例对象设置的私有属性；

4. 上下文中的私有变量和实例对象没有必然的关系；

```javascript
function Func(x,y){
    let sum = x + y;
    this.total = sum;
    this.say = function(){}
}
let fun1 = new Func(1,2);
console.log(fun1);   // Func {total:3,say:f}
console.log(fun1.sum);  //undefined    sum是上下文中的私有变量，和实例没有必然的关系，只有this.xxx=xxx才是给实例设置的私有属性
console.log(fun1.total);  //3

let fun2 = new Func;
console.log(fun2);   // Func {total:NaN,say:f}

console.log(fun1.say === fun2.say);  //false    ----说明say为私有属性
```

**验证某个属性是否为当前对象的属性**：in   /   hasOwnProperty

- in——不论是私有还是公有，只要是它的属性结果就是true；
- hasOwnProperty——只有是它的私有属性，结果才是true；

**检测当前实例是否属于当前类**：instanceof

```javascript
console.log(fun2 instanceof Func);
```

### 面向对象

三句话玩转面向对象

1. 每一个函数（构造函数[类]）都天生具备一个属性 "prototype原型" ，属性值是一个对象：存储当前类供实例调用的公共属性和方法；

2. 在原型对象上有一个内置属性 "constructor构造函数" 存储的值是当前函数本身，所以我们把类称为构造函数；

3. 每一个对象都天生具备一个属性 " __ proto __隐式原型/原型链"，属性指向自己所属类的原型对象；

   实例.__ proto __ === 所属类.prototype



- 函数类型：普通函数 /  构造函数（类） / 内置类
- 对象类型：普通对象 / 数组对象 / 正则对象 / 日期对象 / prototype / __ proto __  / 函数也是对象 / 类的实例也是对象（排除基本数据类型值的特殊性）/  万物皆对象

Object作为所有对象的基类，它原型对象上的__ proto__要指也是指向自己的原型（也就是自己），这样没有意义，所以给其赋值为null.



### 原型链机制

> 概念：访问对象的某个成员，首先看是否为私有的，如果是私有的则找的就是私有的；如果不是，则基于__ proto __ 找所属类.prototype上的公共属性方法....如果还没有，则基于__ proto __继续向上查找，直到找到Object.prototype为止。

原型上的属性方法：相对于实例来讲是公有的，相对于自己来讲是私有的；



Object.create([Object])：创建一个空对象x，并且把[object]（这个值需要是个对象）作为新的空对象的原型链指向；

x.__ proto __ = [Object]

Object.create(null)：创建一个没有原型/原型链的空对象，不是任何类的实例；    