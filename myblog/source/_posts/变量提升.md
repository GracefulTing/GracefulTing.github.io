## 关于变量提升，你知道多少？



```javascript
var a = 0;
if(true){
    a = 1;
    function a(){};
    a = 21;
    console.log(a);
}
console.log(a);

/*
* 最新版本浏览器
  1.向前兼容ES3/5规范
  	1.1判断体和函数体不存在块级上下文，上下文只有全局和私有;
  	1.2不论条件是否成立，带function的都要声明+定义;
  2.向后兼容ES6规范
  	2.1存在块级作用域，大括号中出现let/const/function...都会被认为是块级作用域;
  	2.2不论条件是否成立，带function的只提前声明，不会提前赋值了;
*/

/******************** 旧浏览器 *********************/
/*
	全局作用域
		1.变量提升   var a; function a(){}-----堆内存AF0;
		2.代码执行
			var a=0;   //a -> 0
			a=1;  //a -> 1
			function a(){};  //不执行
			a=21;  //a -> 21
			console.log(a); //输出:21
			console.log(a); //输出:21
*/

/******************** 新浏览器 *********************/
/*
	全局作用域
		1.变量提升   var a; function a;(只声明不赋值)
		2.代码执行
			var a=0;   //a -> 0
			if(true){   //遇到大括号并且里面有function,形成块级作用域
				//变量提升   function a(){}-----AF0   声明加定义
				a=1;  // a -> 1(私有)
				function a(){};   //因为要兼容ES3/ES6,function a在全局下声明过，在私有也处理过，遇到此行代码私有下不再处理，但是浏览器会把当前之前所有对a的操作都映射给全局一份，以此兼容ES3,但是它后面的代码和全局没有任何关系了！  此时全局a->1
				a=21;   // a -> 21(私有)
				console.log(a); //输出:21
			}
			console.log(a);//输出:1
*/
```

