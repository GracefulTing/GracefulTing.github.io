<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta name="author" content="GracefulTing"><meta name="renderer" content="webkit"><meta name="copyright" content="GracefulTing"><meta name="keywords" content="Welcome to GracefulTing's blog"><meta name="description" content=""><meta name="Cache-Control" content="no-cache"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>数组常用api原理和实现 · GracefulTing's Blog</title><link rel="stylesheet" href="/css/style.css?v=2018.7.9"><link rel="stylesheet" href="/css/animation.css?v=2018.7.9"><link rel="icon" href="/img/assets/favicon.ico"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.6"><!-- scripts--><script>(function( w ){
  "use strict";
  // rel=preload support test
  if( !w.loadCSS ){
    w.loadCSS = function(){};
  }
  // define on the loadCSS obj
  var rp = loadCSS.relpreload = {};
  // rel=preload feature support test
  // runs once and returns a function for compat purposes
  rp.support = (function(){
    var ret;
    try {
      ret = w.document.createElement( "link" ).relList.supports( "preload" );
    } catch (e) {
      ret = false;
    }
    return function(){
      return ret;
    };
  })();

  // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
  // then change that media back to its intended value on load
  rp.bindMediaToggle = function( link ){
    // remember existing media attr for ultimate state, or default to 'all'
    var finalMedia = link.media || "all";

    function enableStylesheet(){
      link.media = finalMedia;
    }

    // bind load handlers to enable media
    if( link.addEventListener ){
      link.addEventListener( "load", enableStylesheet );
    } else if( link.attachEvent ){
      link.attachEvent( "onload", enableStylesheet );
    }

    // Set rel and non-applicable media type to start an async request
    // note: timeout allows this to happen async to let rendering continue in IE
    setTimeout(function(){
      link.rel = "stylesheet";
      link.media = "only x";
    });
    // also enable media after 3 seconds,
    // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
    setTimeout( enableStylesheet, 3000 );
  };

  // loop through link elements in DOM
  rp.poly = function(){
    // double check this to prevent external calls from running
    if( rp.support() ){
      return;
    }
    var links = w.document.getElementsByTagName( "link" );
    for( var i = 0; i < links.length; i++ ){
      var link = links[ i ];
      // qualify links to those with rel=preload and as=style attrs
      if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
        // prevent rerunning on link
        link.setAttribute( "data-loadcss", true );
        // bind listeners to toggle media back
        rp.bindMediaToggle( link );
      }
    }
  };

  // if unsupported, run the polyfill
  if( !rp.support() ){
    // run once at least
    rp.poly();

    // rerun poly on an interval until onload
    var run = w.setInterval( rp.poly, 500 );
    if( w.addEventListener ){
      w.addEventListener( "load", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    } else if( w.attachEvent ){
      w.attachEvent( "onload", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    }
  }


  // commonjs
  if( typeof exports !== "undefined" ){
    exports.loadCSS = loadCSS;
  }
  else {
    w.loadCSS = loadCSS;
  }
}( typeof global !== "undefined" ? global : this ) );</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" defer></script><script src="/js/main.js?v=2018.7.9" defer></script><!-- fancybox--><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script><!-- busuanzi--><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><meta name="generator" content="Hexo 4.2.1"></head><body><section class="profile-close" id="cxo-profile"><div class="profile-avatar"><i class="fa fa-caret-left"></i><img src="/img/assets/cat.png"></div><!--.profile-saying
  i.fa.fa-comment
  .saying--><div class="cxo-profile-inner"><div class="profile-name">Grace</div><div class="profile-signature">The harder, the more fortunate</div><div class="read-progress"></div></div></section><header id="cxo-intro" style="height: 70vh;background-image: url(/img/intro/index-bg.png);"><nav id="cxo-intro-nav"><section><div class="intro-nav-title"><a href="/">GracefulTing's Blog</a></div><div class="intro-nav-label-box"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div><i class="fa fa-bars intro-nav-menu"><div class="intro-nav-drop"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div></i><div class="clear"></div></section></nav><h1 class="post-title">数组常用api原理和实现</h1><div class="post-intros"><div class="post-intro-meta"><span class="post-intro-time"><i class="post-intro-calendar fa fa-calendar"></i><span>2020-09-11</span></span></div></div></header><article class="cxo-up" id="cxo-content-outer"><section id="cxo-content-inner"><article class="article-entry" id="post"><h2 id="Array构造函数上的方法"><a href="#Array构造函数上的方法" class="headerlink" title="Array构造函数上的方法"></a>Array构造函数上的方法</h2><h3 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h3><p>该方法创建一个新数组实例，而不去考虑参数的数量的或类型。</p>
<p>Array.of()和Array构造函数的区别：<em>Array.of(7)</em>创建一个具有单个元素7的数组，而<strong>Array(7)</strong>创建一个长度为7的空数组【注：这里指的是一个有7个空位的数组，而不是由7个undefined组成的数组】。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.of(<span class="number">7</span>);       <span class="comment">// [7] </span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">7</span>);          <span class="comment">// [ , , , , , , ]</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);    <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-isArray"><a href="#Array-isArray" class="headerlink" title="Array.isArray()"></a>Array.isArray()</h3><p>该方法用于确定传递的值是否是一个<strong>Array</strong>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.isArray([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);  </span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(&#123;<span class="attr">foo</span>: <span class="number">123</span>&#125;); </span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="string">"foobar"</span>);   </span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="literal">undefined</span>);  </span><br><span class="line"><span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>实现：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!<span class="built_in">Array</span>.isArray)&#123;</span><br><span class="line">    <span class="built_in">Array</span>.isArray = <span class="function"><span class="keyword">function</span>(<span class="params">arg</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(arg) === <span class="string">'[object Array]'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h3><p>该方法从一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(arrayLike[, mapFn[, thisArg]])</span><br><span class="line"></span><br><span class="line"><span class="comment">//参数</span></span><br><span class="line">arrayLike:  必选，可以传入 <span class="number">1</span>、类数组(argumentg) <span class="number">2</span>、可迭代对象(<span class="keyword">set</span>,map)。</span><br><span class="line">mapFn: 可选，相当于Array.from(arrayLike).map(mapFn, thisArg)。</span><br><span class="line">thisArg: 可选，执行回调函数mapFn时候的this对象。非常有用，利于解耦。可以把被处理的数据和对象分离，thisArg中定义处理函数handle，用来在mapFn中返回调用handle之后的结果。</span><br></pre></td></tr></table></figure>

<p>用法：</p>
<p>String</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(<span class="string">'foo'</span>); </span><br><span class="line"><span class="comment">// [ "f", "o", "o" ]</span></span><br></pre></td></tr></table></figure>

<p>new Set()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = Array.from(new Set(['foo','bar','baz','foo']));</span><br><span class="line">//['foo','bar','baz']</span><br></pre></td></tr></table></figure>

<p>new Map()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">4</span>],[<span class="number">4</span>,<span class="number">8</span>]]));</span><br><span class="line"><span class="comment">//[1,2] [2,4] [4,8]</span></span><br></pre></td></tr></table></figure>

<p>类数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);    <span class="comment">//[1,2,3]</span></span><br></pre></td></tr></table></figure>

<p>在Array.from中使用箭头函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],x=&gt;x+x);   <span class="comment">//[2,4,6]</span></span><br><span class="line"><span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>:<span class="number">5</span>&#125;,(v,i)=&gt;i);   <span class="comment">//[0,1,2,3,4]</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> Array.from(&#123;length:5&#125;);   //[undefined,undefined,undefined,undefined,undefined]</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<p>数组去重合并</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">combine</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = [].concat.apply([],<span class="built_in">arguments</span>);  <span class="comment">//没有去掉重复的新数组</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> m = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">    n = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="built_in">console</span>.log(combine(m,n));   <span class="comment">//[1,2,3,5,6]</span></span><br></pre></td></tr></table></figure>



<h2 id="常见方法"><a href="#常见方法" class="headerlink" title="常见方法"></a>常见方法</h2><p>js中遍历数组而且不会改变原始数组的方法共12个：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ES5:forEach / every / some / filter / map / reduce / reduceRight</span><br><span class="line">ES6:find / findIndex / keys / values / entries</span><br></pre></td></tr></table></figure>

<h3 id="遍历方法"><a href="#遍历方法" class="headerlink" title="遍历方法"></a>遍历方法</h3><h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a>forEach()</h4><p>该方法对数组的每个元素执行一次给定的函数。返回值：undefined。</p>
<p>如果 <code>thisArg</code> 参数有值，则每次 <code>callback</code> 函数被调用时，<code>this</code> 都会指向 <code>thisArg</code> 参数。如果省略了 <code>thisArg</code> 参数，或者其值为 <code>null</code> 或 <code>undefined</code>，<code>this</code> 则指向全局对象。</p>
<p>与map和reduce不同的是，它总是返回undefined值，并且不可链式调用。</p>
<p>thisArg用法示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">this</span>.count = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Counter.prototype.add = <span class="function"><span class="keyword">function</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">  array.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">entry</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.sum += entry;</span><br><span class="line">    ++<span class="keyword">this</span>.count;</span><br><span class="line">  &#125;, <span class="keyword">this</span>);</span><br><span class="line">  <span class="comment">//这里this指向obj/因为thisArg参数(this)传给了forEach()，每次调用时都被传给callback函数作为它的this值</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = <span class="keyword">new</span> Counter();</span><br><span class="line">obj.add([<span class="number">2</span>, <span class="number">5</span>, <span class="number">9</span>]);</span><br><span class="line">obj.count;</span><br><span class="line"><span class="comment">// 3 === (1 + 1 + 1)</span></span><br><span class="line">obj.sum;</span><br><span class="line"><span class="comment">// 16 === (2 + 5 + 9)</span></span><br></pre></td></tr></table></figure>

<p>如果数组在迭代时被修改了，其它元素会被跳过。下面例子中，当到达two这一项时，整个数组的第一个被移除，导致剩下的项向前移一个位置，所以three会被跳过。<strong>forEach不会迭代之前创建数组的副本</strong>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> words = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>];</span><br><span class="line">words.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">word</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(word);</span><br><span class="line">  <span class="keyword">if</span> (word === <span class="string">'two'</span>) &#123;</span><br><span class="line">    words.shift();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// one  two  four</span></span><br></pre></td></tr></table></figure>

<p>扁平化数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>,[<span class="number">6</span>,<span class="number">7</span>,[<span class="number">8</span>,<span class="number">9</span>]]]];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> result = [];</span><br><span class="line">    arr.forEach(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">Array</span>.isArray(item))&#123;</span><br><span class="line">            result.push(...flatten(item));</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            result.push(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(flatten(arr));    <span class="comment">//[1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br></pre></td></tr></table></figure>



<p><strong>实现</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!<span class="built_in">Array</span>.prototype.forEach)&#123;</span><br><span class="line">    <span class="built_in">Array</span>.prototype.forEach = <span class="function"><span class="keyword">function</span>(<span class="params">callback,thisArg</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//判断null和undefined情况</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span> == <span class="literal">null</span>)&#123;   <span class="comment">//==情况下null和undefined同  </span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'this is null or not undefined'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> newArr = <span class="built_in">Object</span>(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">let</span> len = newArr.length &gt;&gt;&gt; <span class="number">0</span>;   <span class="comment">//---</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> callback !== <span class="string">'function'</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(callback+<span class="string">'is not a function'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> thatArg = <span class="built_in">arguments</span>.length &gt;= <span class="number">2</span> ? <span class="built_in">arguments</span>[<span class="number">1</span>] : <span class="keyword">void</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">let</span> k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(k &lt; len)&#123;</span><br><span class="line">            <span class="keyword">if</span>(k <span class="keyword">in</span> newArr)&#123;</span><br><span class="line">                callback.call(thatArg,newArr[k],k,newArr);</span><br><span class="line">            &#125;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">void</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注：</p>
<ul>
<li>无法中途退出循环，每次你都是调用回调函数的，return只能退出本次回调</li>
<li>该方法返回的是undefined, 即使你return 一个值也没有用</li>
<li>thisArg改变的是回调函数中的this，从源码中可以看出来，还有就是如果回调函数是箭头函数的话，我们知道箭头函数是无法改变this的，所以会忽略thisArg.</li>
</ul>
<h4 id="every"><a href="#every" class="headerlink" title="every()"></a>every()</h4><p>该方法测试一个数组内的所有元素是否都能通过某个指定函数的测试。它返回一个布尔值。</p>
<p>如果为every提供一个thisArg参数，则该参数为调用callback时的this值。如果省略该参数，callback被调用时的this值，在非严格模式下为全局对象，在严格模式下传入undefined。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isBigEnough</span>(<span class="params">element,index,array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> element &gt;= <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line">[<span class="number">12</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">130</span>,<span class="number">44</span>].every(isBigEnough);   <span class="comment">//false</span></span><br><span class="line">[<span class="number">12</span>,<span class="number">54</span>,<span class="number">18</span>,<span class="number">130</span>,<span class="number">44</span>].every(isBigEnough);   <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h4 id="some"><a href="#some" class="headerlink" title="some()"></a>some()</h4><p>该方法测试数组中是不是至少有一个元素通过了被提供的函数测试。返回值：Boolean类型的值。</p>
<p>如果一个thisArg参数提供给some()，它将被用作调用的 callback的 this 值。否则， 它的 this value将是 undefined。</p>
<p>测试数组元素值大小</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isBiggerThan10</span>(<span class="params">element,index,array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> element&gt;<span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line">[<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">3</span>].some(isBiggerThan10);   <span class="comment">//false</span></span><br><span class="line">[<span class="number">2</span>,<span class="number">15</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">3</span>].some(isBiggerThan10);   <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>判断数组元素中是否存在某个值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">'apple'</span>,<span class="string">'banana'</span>,<span class="string">'mongo'</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAvailability</span>(<span class="params">arr,val</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arr.some(<span class="function"><span class="params">arrVal</span> =&gt;</span> val === arrVal);</span><br><span class="line">&#125;</span><br><span class="line">checkAvailability(fruits, <span class="string">'kela'</span>);   <span class="comment">// false</span></span><br><span class="line">checkAvailability(fruits, <span class="string">'banana'</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>将任意值转换为布尔类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> TRUTHY_VALUES = [<span class="literal">true</span>,<span class="string">'true'</span>,<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBoolean</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> value === <span class="string">'string'</span>)&#123;</span><br><span class="line">        value = value.toLowerCase().trim();</span><br><span class="line">        <span class="comment">//trim() 方法用于删除字符串的头尾空格。trim() 方法不会改变原始字符串。</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> TRUTHY_VALUES.some(<span class="function"><span class="keyword">function</span>(<span class="params">t</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t === value;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getBoolean(<span class="literal">false</span>);   <span class="comment">// false</span></span><br><span class="line">getBoolean(<span class="string">'false'</span>); <span class="comment">// false</span></span><br><span class="line">getBoolean(<span class="number">1</span>);       <span class="comment">// true</span></span><br><span class="line">getBoolean(<span class="string">'true'</span>);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h4><p>该方法创建一个新数组，其包含通过所提供函数实现的测试的所有元素。返回过滤后的新数组。</p>
<p>如果为 <code>filter</code> 提供一个 <code>thisArg</code> 参数，则它会被作为 <code>callback</code> 被调用时的 <code>this</code> 值。否则，<code>callback</code> 的 <code>this</code> 值在非严格模式下将是全局对象，严格模式下为 <code>undefined</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">'apple'</span>, <span class="string">'banana'</span>, <span class="string">'grapes'</span>, <span class="string">'mango'</span>, <span class="string">'orange'</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filterItems</span>(<span class="params">query</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fruits.filter(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> item.toLowerCase().indexOf(query.toLowerCase())&gt;<span class="number">-1</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(filterItems(<span class="string">'ap'</span>)); <span class="comment">// ['apple', 'grapes']</span></span><br><span class="line"><span class="built_in">console</span>.log(filterItems(<span class="string">'an'</span>)); <span class="comment">// ['banana', 'mango', 'orange']</span></span><br></pre></td></tr></table></figure>

<h4 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h4><p>该方法创建一个新数组，其结果是该数组中的每个元素是调用一次提供的函数后的返回。</p>
<p>返回值：一个由原数组每个元素执行回调函数的结果组成的新数组。</p>
<p>如果 thisArg 参数提供给map，则会被用作回调函数的this值。否则undefined会被用作回调函数的this值。</p>
<p>使用map格式化数组中的对象：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> kvArray = [</span><br><span class="line">    &#123;<span class="attr">key</span>:<span class="number">1</span>,<span class="attr">value</span>:<span class="number">10</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">key</span>:<span class="number">2</span>,<span class="attr">value</span>:<span class="number">20</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">key</span>:<span class="number">3</span>,<span class="attr">value</span>:<span class="number">30</span>&#125;,</span><br><span class="line">]</span><br><span class="line"><span class="keyword">var</span> reformatteredArray = kvArray.map(<span class="function"><span class="params">obj</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> rObj = &#123;&#125;;</span><br><span class="line">    rObj[obj.key] = obj.value;</span><br><span class="line">    <span class="keyword">return</span> rObj;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> [</span></span><br><span class="line"><span class="comment">   &#123;1:10&#125;,</span></span><br><span class="line"><span class="comment">   &#123;2:20&#125;,</span></span><br><span class="line"><span class="comment">   &#123;3:30&#125;,</span></span><br><span class="line"><span class="comment"> ]</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>



<h4 id="reduce"><a href="#reduce" class="headerlink" title="reduce()"></a>reduce()</h4><p>该方法对数组中的每个元素执行一个 由您提供的reducer函数，将其结果汇总为单个返回值。</p>
<p>4个参数：</p>
<ul>
<li><code>accumulator 累计器</code></li>
<li><code>currentValue 当前值</code></li>
<li><code>currentIndex 当前索引</code></li>
<li><code>array 数组</code></li>
</ul>
<p><strong>如果没有提供initialValue，accumulator取数组中第一个值，currentValue取数组中第二个值。如果提供了initialValue，accumulator取值为initialValue，currentValue取数组中第一个值。</strong></p>
<p>情形1：未提供reduce方法的第二个参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">accumulator, currentValue, currentIndex, array</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> accumulator + currentValue;</span><br><span class="line">&#125;);    <span class="comment">//10</span></span><br></pre></td></tr></table></figure>

<p>callback 被调用四次，每次调用的参数和返回值如下表：</p>
<table>
<thead>
<tr>
<th align="left"><code>callback</code></th>
<th align="left"><code>accumulator</code></th>
<th align="left"><code>currentValue</code></th>
<th align="left"><code>currentIndex</code></th>
<th align="left"><code>array</code></th>
<th align="left">return value</th>
</tr>
</thead>
<tbody><tr>
<td align="left">first call</td>
<td align="left"><code>0</code></td>
<td align="left"><code>1</code></td>
<td align="left"><code>1</code></td>
<td align="left"><code>[0, 1, 2, 3, 4]</code></td>
<td align="left"><code>1</code></td>
</tr>
<tr>
<td align="left">second call</td>
<td align="left"><code>1</code></td>
<td align="left"><code>2</code></td>
<td align="left"><code>2</code></td>
<td align="left"><code>[0, 1, 2, 3, 4]</code></td>
<td align="left"><code>3</code></td>
</tr>
<tr>
<td align="left">third call</td>
<td align="left"><code>3</code></td>
<td align="left"><code>3</code></td>
<td align="left"><code>3</code></td>
<td align="left"><code>[0, 1, 2, 3, 4]</code></td>
<td align="left"><code>6</code></td>
</tr>
<tr>
<td align="left">fourth call</td>
<td align="left"><code>6</code></td>
<td align="left"><code>4</code></td>
<td align="left"><code>4</code></td>
<td align="left"><code>[0, 1, 2, 3, 4]</code></td>
<td align="left"><code>10</code></td>
</tr>
</tbody></table>
<p>情形1：提供reduce方法的第二个参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].reduce(<span class="function">(<span class="params">accumulator, currentValue, currentIndex, array</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> accumulator + currentValue</span><br><span class="line">&#125;, <span class="number">10</span>)   <span class="comment">//20</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left"><code>callback</code></th>
<th align="left"><code>accumulator</code></th>
<th align="left"><code>currentValue</code></th>
<th align="left"><code>currentIndex</code></th>
<th align="left"><code>array</code></th>
<th align="left">return value</th>
</tr>
</thead>
<tbody><tr>
<td align="left">first call</td>
<td align="left"><code>10</code></td>
<td align="left"><code>0</code></td>
<td align="left"><code>0</code></td>
<td align="left"><code>[0, 1, 2, 3, 4]</code></td>
<td align="left"><code>10</code></td>
</tr>
<tr>
<td align="left">second call</td>
<td align="left"><code>10</code></td>
<td align="left"><code>1</code></td>
<td align="left"><code>1</code></td>
<td align="left"><code>[0, 1, 2, 3, 4]</code></td>
<td align="left"><code>11</code></td>
</tr>
<tr>
<td align="left">third call</td>
<td align="left"><code>11</code></td>
<td align="left"><code>2</code></td>
<td align="left"><code>2</code></td>
<td align="left"><code>[0, 1, 2, 3, 4]</code></td>
<td align="left"><code>13</code></td>
</tr>
<tr>
<td align="left">fourth call</td>
<td align="left"><code>13</code></td>
<td align="left"><code>3</code></td>
<td align="left"><code>3</code></td>
<td align="left"><code>[0, 1, 2, 3, 4]</code></td>
<td align="left"><code>16</code></td>
</tr>
<tr>
<td align="left">fifth call</td>
<td align="left"><code>16</code></td>
<td align="left"><code>4</code></td>
<td align="left"><code>4</code></td>
<td align="left"><code>[0, 1, 2, 3, 4]</code></td>
<td align="left"><code>20</code></td>
</tr>
</tbody></table>
<p>数组求和：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].reduce(<span class="function">(<span class="params">acc,cur</span>)=&gt;</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> acc+cur; </span><br><span class="line">&#125;,<span class="number">0</span>)    <span class="comment">//6</span></span><br></pre></td></tr></table></figure>

<p>计算数组中每个元素出现的次数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = [<span class="string">'Alice'</span>, <span class="string">'Bob'</span>, <span class="string">'Tiff'</span>, <span class="string">'Bruce'</span>, <span class="string">'Alice'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> countedNames = names.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">allNames, name</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">if</span> (name <span class="keyword">in</span> allNames) &#123;</span><br><span class="line">    allNames[name]++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    allNames[name] = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> allNames;</span><br><span class="line">&#125;, &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(countedNames);   <span class="comment">// &#123; 'Alice': 2, 'Bob': 1, 'Tiff': 1, 'Bruce': 1 &#125;</span></span><br></pre></td></tr></table></figure>

<p>按属性对object分类：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> people = [</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'Alice'</span>, <span class="attr">age</span>: <span class="number">21</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'Max'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">'Jane'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">groupBy</span>(<span class="params">objectArray,property</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> objectArray.reduce(<span class="function">(<span class="params">acc,obj</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> key = obj[property];</span><br><span class="line">        <span class="keyword">if</span>(!acc[key])&#123;</span><br><span class="line">            acc[key] = []</span><br><span class="line">        &#125;</span><br><span class="line">        acc[key].push(obj);</span><br><span class="line">        <span class="keyword">return</span> acc;</span><br><span class="line">    &#125;,&#123;&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> groupedPeople = groupBy(people,<span class="string">'age'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; </span></span><br><span class="line"><span class="comment">//   20: [</span></span><br><span class="line"><span class="comment">//     &#123; name: 'Max', age: 20 &#125;, </span></span><br><span class="line"><span class="comment">//     &#123; name: 'Jane', age: 20 &#125;</span></span><br><span class="line"><span class="comment">//   ], </span></span><br><span class="line"><span class="comment">//   21: [&#123; name: 'Alice', age: 21 &#125;] </span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<p>功能型函数管道</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Building-blocks to use for composition</span></span><br><span class="line"><span class="keyword">const</span> double = <span class="function"><span class="params">x</span> =&gt;</span> x + x;</span><br><span class="line"><span class="keyword">const</span> triple = <span class="function"><span class="params">x</span> =&gt;</span> <span class="number">3</span> * x;</span><br><span class="line"><span class="keyword">const</span> quadruple = <span class="function"><span class="params">x</span> =&gt;</span> <span class="number">4</span> * x;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Function composition enabling pipe functionality</span></span><br><span class="line"><span class="keyword">const</span> pipe = <span class="function">(<span class="params">...functions</span>) =&gt;</span> <span class="function"><span class="params">input</span> =&gt;</span> functions.reduce(</span><br><span class="line">    (acc, fn) =&gt; fn(acc),</span><br><span class="line">    input</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Composed functions for multiplication of specific values</span></span><br><span class="line"><span class="keyword">const</span> multiply6 = pipe(double, triple);</span><br><span class="line"><span class="keyword">const</span> multiply9 = pipe(triple, triple);</span><br><span class="line"><span class="keyword">const</span> multiply16 = pipe(quadruple, quadruple);</span><br><span class="line"><span class="keyword">const</span> multiply24 = pipe(double, triple, quadruple);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line">multiply6(<span class="number">6</span>); <span class="comment">// 36 =&gt; triple(double) =&gt; 3*(6+6) </span></span><br><span class="line">multiply9(<span class="number">9</span>); <span class="comment">// 81 =&gt; triple(triple) =&gt; 3*(3*9)</span></span><br><span class="line">multiply16(<span class="number">16</span>); <span class="comment">// 256 =&gt; quadruple(quadruple) =&gt; 4*(4*16) </span></span><br><span class="line">multiply24(<span class="number">10</span>); <span class="comment">// 240 =&gt; quadruple(triple(double)) =&gt; 4*(3*(10+10))</span></span><br></pre></td></tr></table></figure>

<h4 id="reduceRight"><a href="#reduceRight" class="headerlink" title="reduceRight"></a>reduceRight</h4><p>该方法接受一个函数作为累加器和数组的每个值从右到左将其减少为单个值。</p>
<p>返回值：执行之后的返回值。</p>
<p>可以理解为reduce反着来。</p>
<p>未提供initialValue参数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].reduceRight(<span class="function"><span class="keyword">function</span>(<span class="params">previousValue, currentValue, index, array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> previousValue + currentValue;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>一共会调用四次回调函数，每次调用的参数及返回值如下：</p>
<table>
<thead>
<tr>
<th align="left"><code>callback</code></th>
<th align="left"><code>previousValue</code></th>
<th align="left"><code>currentValue</code></th>
<th align="left"><code>index</code></th>
<th align="left"><code>array</code></th>
<th align="left">返回值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">第一次调用</td>
<td align="left"><code>4</code></td>
<td align="left"><code>3</code></td>
<td align="left"><code>3</code></td>
<td align="left"><code>[0,1,2,3,4]</code></td>
<td align="left"><code>7</code></td>
</tr>
<tr>
<td align="left">第二次调用</td>
<td align="left"><code>7</code></td>
<td align="left"><code>2</code></td>
<td align="left"><code>2</code></td>
<td align="left"><code>[0,1,2,3,4]</code></td>
<td align="left"><code>9</code></td>
</tr>
<tr>
<td align="left">第三次调用</td>
<td align="left"><code>9</code></td>
<td align="left"><code>1</code></td>
<td align="left"><code>1</code></td>
<td align="left"><code>[0,1,2,3,4]</code></td>
<td align="left"><code>10</code></td>
</tr>
<tr>
<td align="left">第四次调用</td>
<td align="left"><code>10</code></td>
<td align="left"><code>0</code></td>
<td align="left"><code>0</code></td>
<td align="left"><code>[0,1,2,3,4]</code></td>
<td align="left"><code>10</code></td>
</tr>
</tbody></table>
<p><code>reduceRight</code> 返回值是最后一次调用回调的返回值（<code>10</code>）。</p>
<p>如果提供了一个 <code>initialValue</code> 参数，则结果如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].reduceRight(<span class="function"><span class="keyword">function</span>(<span class="params">previousValue, currentValue, index, array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> previousValue + currentValue;</span><br><span class="line">&#125;, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left"><code>callback</code></th>
<th align="left"><code>previousValue</code></th>
<th align="left"><code>currentValue</code></th>
<th align="left"><code>index</code></th>
<th align="left"><code>array</code></th>
<th align="left">返回值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">第一次调用</td>
<td align="left"><code>10</code></td>
<td align="left"><code>4</code></td>
<td align="left"><code>4</code></td>
<td align="left"><code>[0,1,2,3,4]</code></td>
<td align="left"><code>14</code></td>
</tr>
<tr>
<td align="left">第二次调用</td>
<td align="left"><code>14</code></td>
<td align="left"><code>3</code></td>
<td align="left"><code>3</code></td>
<td align="left"><code>[0,1,2,3,4]</code></td>
<td align="left"><code>17</code></td>
</tr>
<tr>
<td align="left">第三次调用</td>
<td align="left"><code>17</code></td>
<td align="left"><code>2</code></td>
<td align="left"><code>2</code></td>
<td align="left"><code>[0,1,2,3,4]</code></td>
<td align="left"><code>19</code></td>
</tr>
<tr>
<td align="left">第四次调用</td>
<td align="left"><code>19</code></td>
<td align="left"><code>1</code></td>
<td align="left"><code>1</code></td>
<td align="left"><code>[0,1,2,3,4]</code></td>
<td align="left"><code>20</code></td>
</tr>
<tr>
<td align="left">第五次调用</td>
<td align="left"><code>20</code></td>
<td align="left"><code>0</code></td>
<td align="left"><code>0</code></td>
<td align="left"><code>[0,1,2,3,4]</code></td>
<td align="left"><code>20</code></td>
</tr>
</tbody></table>
<p>这时，<code>reduceRight</code> 返回值为 20。</p>
<p><strong>reduce和reduceRight区别</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>];</span><br><span class="line"><span class="keyword">var</span> left = a.reduce(<span class="function">(<span class="params">acc,cur</span>)=&gt;</span>&#123;<span class="keyword">return</span> acc+cur&#125;);</span><br><span class="line"><span class="keyword">var</span> right = a.reduceRight(<span class="function">(<span class="params">acc,cur</span>)=&gt;</span>&#123;<span class="keyword">return</span> acc+cur&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(left);   <span class="comment">//12345</span></span><br><span class="line"><span class="built_in">console</span>.log(right);  <span class="comment">//54321</span></span><br></pre></td></tr></table></figure>

<h4 id="find-amp-findIndex"><a href="#find-amp-findIndex" class="headerlink" title="find &amp; findIndex"></a>find &amp; findIndex</h4><p>find方法返回数组中满足提供的测试函数的<strong>第一个元素的值</strong>，否则返回undefined.</p>
<p>findIndex方法返回数组中找到的元素的<strong>索引</strong>，而不是其值。没有找到对应元素返回-1.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> inventory = [</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">'apples'</span>, <span class="attr">quantity</span>: <span class="number">2</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">'bananas'</span>, <span class="attr">quantity</span>: <span class="number">0</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">'cherries'</span>, <span class="attr">quantity</span>: <span class="number">5</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findCherries</span>(<span class="params">fruit</span>) </span>&#123; </span><br><span class="line">    <span class="keyword">return</span> fruit.name === <span class="string">'cherries'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(inventory.find(findCherries)); <span class="comment">// &#123; name: 'cherries', quantity: 5 &#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isPrime</span>(<span class="params">element,index,array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> start = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(start &lt;= <span class="built_in">Math</span>.sqrt(element))&#123;</span><br><span class="line">        <span class="keyword">if</span>(element % start++ &lt; <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> element &gt; <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">12</span>].find(isPrime)); <span class="comment">// undefined, not found</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">12</span>].find(isPrime)); <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">12</span>].findIndex(isPrime)); <span class="comment">// -1, not found</span></span><br><span class="line"><span class="built_in">console</span>.log([<span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">12</span>].findIndex(isPrime)); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h4 id="keys-amp-valus-amp-entries"><a href="#keys-amp-valus-amp-entries" class="headerlink" title="keys &amp; valus &amp; entries"></a>keys &amp; valus &amp; entries</h4><p>keys方法返回一个包含数组中每个索引键的Array Iterator对象。返回值：一个新的Array迭代器对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, ,<span class="string">"c"</span>];</span><br><span class="line"><span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(arr);</span><br><span class="line"><span class="keyword">var</span> arrayKeys = [...arr.keys()];</span><br><span class="line"><span class="built_in">console</span>.log(keys);   <span class="comment">//["0", "2"]</span></span><br><span class="line"><span class="built_in">console</span>.log(arrayKeys);  <span class="comment">//[0,1,2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//索引迭代器会包含那些没有对应元素的索引</span></span><br></pre></td></tr></table></figure>

<p>values方法返回一个新的Array Iterator对象，该对象包含数组每个索引的值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用for...of迭代</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">'h'</span>,<span class="string">'e'</span>,<span class="string">'l'</span>,<span class="string">'l'</span>,<span class="string">'o'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.values());</span><br><span class="line"><span class="keyword">let</span> eArr = arr.values();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> letter <span class="keyword">of</span> eArr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(letter);  <span class="comment">// h e l l o</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用.next()迭代   一次性：数组迭代器是一次性的，或者说临时对象</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"><span class="keyword">var</span> iterator = arr.values(); </span><br><span class="line">iterator.next();               <span class="comment">// Object &#123; value: "a", done: false &#125;</span></span><br><span class="line">iterator.next().value;         <span class="comment">// "b"</span></span><br><span class="line">iterator.next()[<span class="string">"value"</span>];      <span class="comment">// "c"</span></span><br><span class="line">iterator.next();               <span class="comment">// Object &#123; value: "d", done: false &#125;</span></span><br><span class="line">iterator.next();               <span class="comment">// Object &#123; value: "e", done: false &#125;</span></span><br><span class="line">iterator.next();               <span class="comment">// Object &#123; value: undefined, done: true &#125; </span></span><br><span class="line">iteraroe.next().value;         <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>entries方法返回一个新的Array Iterator对象，该对象包含数组中每个索引的键值对。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</span><br><span class="line"><span class="keyword">var</span> iterator = arr.entries();</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> e <span class="keyword">of</span> iterator) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [0, "a"] </span></span><br><span class="line"><span class="comment">// [1, "b"] </span></span><br><span class="line"><span class="comment">// [2, "c"]</span></span><br></pre></td></tr></table></figure>

<h3 id="改变原始数组方法"><a href="#改变原始数组方法" class="headerlink" title="改变原始数组方法"></a>改变原始数组方法</h3><h4 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h4><p>该方法通过<strong>删除</strong>或者<strong>替换</strong>现有元素或者<strong>原地添加新的元素</strong>来修改数组，并以数组形式返回被修改的内容。此方法<strong>会改变原数组</strong>。</p>
<p>返回值：由被删除的元素组成的一个数组。如果只删除了一个元素，则返回只包含一个元素的数组。如果没有删除元素，则返回空数组。</p>
<p>从第2位开始删除0个元素，插入”drum”</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myFish = [<span class="string">"angel"</span>, <span class="string">"clown"</span>, <span class="string">"mandarin"</span>, <span class="string">"sturgeon"</span>];</span><br><span class="line"><span class="keyword">var</span> removed = myFish.splice(<span class="number">2</span>,<span class="number">0</span>,<span class="string">"drum"</span>);</span><br><span class="line"><span class="comment">// myFish:["angel", "clown", "drum", "mandarin", "sturgeon"]</span></span><br><span class="line"><span class="comment">//removed:[]</span></span><br></pre></td></tr></table></figure>

<p>从第3位开始删除1个元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myFish = [<span class="string">"angel"</span>, <span class="string">"clown"</span>, <span class="string">"mandarin"</span>, <span class="string">"sturgeon"</span>];</span><br><span class="line"><span class="keyword">var</span> removed = myFish.splice(<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line"><span class="comment">//myFish:["angel", "clown", "mandarin"]</span></span><br><span class="line"><span class="comment">//removed:['sturgeon']</span></span><br></pre></td></tr></table></figure>

<h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><p>该方法对数组的元素进行排序，并返回数组。<strong>此方法会改变原数组</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">参数：</span><br><span class="line">compareFunction 可选</span><br><span class="line">1. 用来指定按某种顺序进行排列的函数。如果省略，元素按照转换为的字符串的各个字符的Unicode位点进行排序。</span><br><span class="line">2. 指明了compareFunction，</span><br><span class="line">3. 如果 compareFunction(a, b) 小于 0 ，那么 a 会被排列到 b 之前；</span><br><span class="line">4. 如果 compareFunction(a, b) 等于 0 ， a 和 b 的相对位置不变。</span><br><span class="line">5. 如果 compareFunction(a, b) 大于 0 ， b 会被排列到 a 之前。</span><br></pre></td></tr></table></figure>

<p>返回值：排序后的数组。数组已经原地排序，并且不进行复制。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">numbers.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a-b;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//[1,3,4,5,9]</span></span><br></pre></td></tr></table></figure>

<p>对非ASCII字符排序</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当排序非 ASCII 字符的字符串（如包含类似 e, é, è, a, ä 等字符的字符串）。</span></span><br><span class="line"><span class="comment">//一些非英语语言的字符串需要使用 String.localeCompare。这个函数可以将函数排序到正确的顺序。</span></span><br><span class="line"><span class="keyword">var</span> items = [<span class="string">'réservé'</span>, <span class="string">'premier'</span>, <span class="string">'cliché'</span>, <span class="string">'communiqué'</span>, <span class="string">'café'</span>, <span class="string">'adieu'</span>];</span><br><span class="line">items.sort(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a.localeCompare(b);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// items is ['adieu', 'café', 'cliché', 'communiqué', 'premier', 'réservé']</span></span><br></pre></td></tr></table></figure>

<h4 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h4><p>该方法为从数组中删除最后一个元素，并返回该元素的值。<strong>此方法更改数组的长度</strong>。</p>
<p>返回值：从数组中删除的元素，当数组为空时返回undefined.</p>
<p>描述：</p>
<ul>
<li><code>pop</code> 方法从一个数组中删除并返回最后一个元素。</li>
<li><code>pop</code> 方法有意具有通用性。该方法和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call" target="_blank" rel="noopener"><code>call()</code></a> 或 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="noopener"><code>apply()</code></a> 一起使用时，可应用在类似数组的对象上。<code>pop</code>方法根据 <code>length</code>属性来确定最后一个元素的位置。如果不包含<code>length</code>属性或<code>length</code>属性不能被转成一个数值，会将<code>length</code>置为0，并返回<code>undefined</code>。</li>
<li>如果你在一个空数组上调用 pop()，它返回  <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener"><code>undefined</code></a>。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myFish = [<span class="string">"angel"</span>, <span class="string">"clown"</span>, <span class="string">"mandarin"</span>, <span class="string">"surgeon"</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> popped = myFish.pop();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myFish); </span><br><span class="line"><span class="comment">// ["angel", "clown", "mandarin"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(popped); </span><br><span class="line"><span class="comment">// surgeon</span></span><br></pre></td></tr></table></figure>

<h4 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h4><p>该方法从数组中<strong>删除第一个元素</strong>，并返回该元素的值。此方法更改数组的长度。</p>
<p>返回值：从数组中删除的元素，如果数组为空返回undefined.</p>
<p>描述：</p>
<ul>
<li>shift方法移除索引为0的元素，并返回被移除的元素，其它元素的索引值随之减1.如果length属性值为0，返回undefined。</li>
<li>shift<code>方法并不局限于数组：这个方法能够通过 [</code>call<code>](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call) 或 [</code>apply`](<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply</a>) 方法作用于类似数组的对象上。但是对于没有 length 属性（从0开始的一系列连续的数字属性的最后一个）的对象，调用该方法可能没有任何意义。</li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/pop" target="_blank" rel="noopener"><code>Array.prototype.pop()</code></a> 有着和 <code>shift</code>相似的行为, 但是是作用在数组的最后一个元素上的</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myFish = [<span class="string">'angel'</span>, <span class="string">'clown'</span>, <span class="string">'mandarin'</span>, <span class="string">'surgeon'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'调用 shift 之前: '</span> + myFish);</span><br><span class="line"><span class="comment">// "调用 shift 之前: angel,clown,mandarin,surgeon"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> shifted = myFish.shift(); </span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'调用 shift 之后: '</span> + myFish); </span><br><span class="line"><span class="comment">// "调用 shift 之后: clown,mandarin,surgeon" </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'被删除的元素: '</span> + shifted); </span><br><span class="line"><span class="comment">// "被删除的元素: angel"</span></span><br></pre></td></tr></table></figure>

<h4 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a>unshift</h4><p>该方法将一个或多个元素添加到数组的<strong>开头</strong>，并<strong>返回该数组的新长度</strong>，该方法修改原有数组。</p>
<p>传入多个参数调用一次 <code>unshift</code> ，和传入一个参数调用多次 <code>unshift</code> (例如，循环调用)，它们将得到不同的结果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> a = arr.unshift(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);   <span class="comment">//[1,2,3,4,5,6]</span></span><br><span class="line"><span class="built_in">console</span>.log(a);   <span class="comment">//6</span></span><br><span class="line"></span><br><span class="line">arr = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">arr.unshift(<span class="number">1</span>);</span><br><span class="line">arr.unshift(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);   <span class="comment">//[2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>

<h4 id="push"><a href="#push" class="headerlink" title="push"></a>push</h4><p>该方法将一个或多个元素添加到数组的<strong>末尾</strong>，并<strong>返回该数组的新长度</strong>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sports = [<span class="string">"soccer"</span>, <span class="string">"baseball"</span>];</span><br><span class="line"><span class="keyword">var</span> total = sports.push(<span class="string">"football"</span>, <span class="string">"swimming"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sports); </span><br><span class="line"><span class="comment">// ["soccer", "baseball", "football", "swimming"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(total);  </span><br><span class="line"><span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<p>合并两个数组：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vegetables = [<span class="string">'parsnip'</span>, <span class="string">'potato'</span>];</span><br><span class="line"><span class="keyword">var</span> moreVegs = [<span class="string">'celery'</span>, <span class="string">'beetroot'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将第二个数组融合进第一个数组</span></span><br><span class="line"><span class="comment">// 相当于 vegetables.push('celery', 'beetroot');</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(vegetables,moreVegs);</span><br><span class="line"><span class="built_in">console</span>.log(vegetables);</span><br><span class="line"><span class="comment">// ['parsnip', 'potato', 'celery', 'beetroot']</span></span><br></pre></td></tr></table></figure>

<p>像数组一样使用对象：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    length:<span class="number">0</span>,</span><br><span class="line">    addElem:<span class="function"><span class="keyword">function</span> <span class="title">addElem</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">        [].push.call(<span class="keyword">this</span>,elem);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.addElem(&#123;&#125;);</span><br><span class="line">obj.addElem(&#123;&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(obj.length);  <span class="comment">//2</span></span><br><span class="line"><span class="comment">//注意，尽管 obj 不是数组，但是 push 方法成功地使 obj 的 length 属性增长了，就像我们处理一个实际的数组一样。</span></span><br></pre></td></tr></table></figure>

<h4 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h4><p>该方法将数组中元素的位置颠倒，并<strong>返回该数组</strong>。数组的第一个元素会变成最后一个，数组的最后一个元素变成第一个。该方法会改变原数组。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">//[1,2,3]</span></span><br><span class="line"></span><br><span class="line">a.reverse();</span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">//[3,2,1]</span></span><br></pre></td></tr></table></figure>



<p>颠倒类数组中的元素：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;<span class="number">0</span>:<span class="number">1</span>,<span class="number">1</span>:<span class="number">2</span>,<span class="number">2</span>:<span class="number">3</span>,<span class="attr">length</span>:<span class="number">3</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a);   <span class="comment">//&#123;0: 1, 1: 2, 2: 3, length: 3&#125;</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.reverse.call(a);</span><br><span class="line"><span class="built_in">console</span>.log(a);   <span class="comment">//&#123;0: 3, 1: 2, 2: 1, length: 3&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="copyWithin"><a href="#copyWithin" class="headerlink" title="copyWithin"></a>copyWithin</h4><p>该方法浅复制数组的一部分到同一数组中的另一个位置，并返回它，不会改变原数组的长度。</p>
<p>参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">arr.copyWithin(target[, start[, end]])</span><br><span class="line"></span><br><span class="line">target&#x2F;start&#x2F;end必须为整数</span><br><span class="line">target:复制序列到该位置,如果为负数从末尾开始计算.如果target在start之后复制的序列将被修改以复合arr.length</span><br><span class="line">start:开始复制元素的起始位置。如果start被忽略将会从0开始复制。</span><br><span class="line">end：开始复制元素的结束位置，不包括该元素。如果被忽略将一致复制到数组结尾。</span><br><span class="line">如果start为负数，则其指定的索引位置等同于length+start，length为数组的长度。end也是如此。</span><br></pre></td></tr></table></figure>

<p>返回值：改变后的数组。</p>
<p>copyWithin 是一个可变方法，它可以改变 this 对象本身，并且返回它，而不仅仅是它的拷贝。它不会改变 this 的长度 length，但是会改变 this 本身的内容，且需要时会创建新的属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">-2</span>)</span><br><span class="line"><span class="comment">// [1, 2, 3, 1, 2]</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">0</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment">// [4, 5, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="comment">// [4, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">-2</span>, <span class="number">-3</span>, <span class="number">-1</span>)</span><br><span class="line"><span class="comment">// [1, 2, 3, 3, 4]</span></span><br><span class="line"></span><br><span class="line">[].copyWithin.call(&#123;<span class="attr">length</span>: <span class="number">5</span>, <span class="number">3</span>: <span class="number">1</span>&#125;, <span class="number">0</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">// &#123;0: 1, 3: 1, length: 5&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// [1, 2, 3]</span></span><br><span class="line">a.reverse(); </span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// [3, 2, 1]</span></span><br></pre></td></tr></table></figure>

<h4 id="fill"><a href="#fill" class="headerlink" title="fill"></a>fill</h4><p>该方法用一个固定值填充一个数组中从起始索引到结束索引内的全部元素。不包括结束索引。</p>
<p>返回值：修改后的数组。</p>
<p>如果start是负数，开始索引会被自动计算成为length+start，其中length是this对象的length的属性值。</p>
<p>如果end是负数，结束索引会被自动计算成为length+end.</p>
<p>fill方法是个可变方法，会改变调用它的this对象本身，然后返回它，并不是返回一个副本。当一个对象被传递给fill方法的时候，填充数组的是这个对象的引用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].fill(<span class="number">4</span>);               <span class="comment">// [4, 4, 4]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].fill(<span class="number">4</span>, <span class="number">1</span>);            <span class="comment">// [1, 4, 4]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].fill(<span class="number">4</span>, <span class="number">1</span>, <span class="number">2</span>);         <span class="comment">// [1, 4, 3]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].fill(<span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>);         <span class="comment">// [1, 2, 3]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].fill(<span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>);         <span class="comment">// [1, 2, 3]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].fill(<span class="number">4</span>, <span class="number">-3</span>, <span class="number">-2</span>);       <span class="comment">// [4, 2, 3]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].fill(<span class="number">4</span>, <span class="literal">NaN</span>, <span class="literal">NaN</span>);     <span class="comment">// [1, 2, 3]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].fill(<span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>);         <span class="comment">// [1, 2, 3]</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">3</span>).fill(<span class="number">4</span>);                <span class="comment">// [4, 4, 4]</span></span><br><span class="line">[].fill.call(&#123; <span class="attr">length</span>: <span class="number">3</span> &#125;, <span class="number">4</span>);  <span class="comment">// &#123;0: 4, 1: 4, 2: 4, length: 3&#125;</span></span><br><span class="line"><span class="comment">// Objects by reference.</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="built_in">Array</span>(<span class="number">3</span>).fill(&#123;&#125;) <span class="comment">// [&#123;&#125;, &#123;&#125;, &#123;&#125;];</span></span><br><span class="line"><span class="comment">// 需要注意如果fill的参数为引用类型，会导致都执行都一个引用类型</span></span><br><span class="line"><span class="comment">// 如 arr[0] === arr[1] 为true</span></span><br><span class="line">arr[<span class="number">0</span>].hi = <span class="string">"hi"</span>; <span class="comment">// [&#123; hi: "hi" &#125;, &#123; hi: "hi" &#125;, &#123; hi: "hi" &#125;]</span></span><br></pre></td></tr></table></figure>

<h3 id="不改变原始数组方法"><a href="#不改变原始数组方法" class="headerlink" title="不改变原始数组方法"></a>不改变原始数组方法</h3><h4 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h4><p>该方法返回一个新的数组对象，这一对象是一个由begin和end决定的原数组的<strong>浅拷贝</strong>。<strong>原始数组不会被改变</strong>。</p>
<p>slice不会修改原数组，只会返回一个浅复制了原数组中的元素的一个新数组。原数组的元素会按照以下规则拷贝：</p>
<ul>
<li>如果该元素是个对象引用（不是实际的对象），slice会拷贝这个对象引用到新的数组里。两个对象引用都引用了同一个对象。如果被引用的对象发生改变，则新的和原来的数组中的这个元素也会发生改变。</li>
<li>对于字符串、数字和布尔值来说，slice会拷贝这些值到新的数组里。在别的数组里修改这些字符串或者数字或者布尔值，将不会影响另一个数组。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>];</span><br><span class="line"><span class="keyword">var</span> newArr = arr.slice(<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr);  <span class="comment">//['a','b','c','d','e']</span></span><br><span class="line"><span class="built_in">console</span>.log(newArr);  <span class="comment">//['b','c']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 slice 方法从 myCar 中创建一个 newCar。</span></span><br><span class="line"><span class="keyword">var</span> myHonda = &#123; <span class="attr">color</span>: <span class="string">'red'</span>, <span class="attr">wheels</span>: <span class="number">4</span>, <span class="attr">engine</span>: &#123; <span class="attr">cylinders</span>: <span class="number">4</span>, <span class="attr">size</span>: <span class="number">2.2</span> &#125; &#125;;</span><br><span class="line"><span class="keyword">var</span> myCar = [myHonda, <span class="number">2</span>, <span class="string">"cherry condition"</span>, <span class="string">"purchased 1997"</span>];</span><br><span class="line"><span class="keyword">var</span> newCar = myCar.slice(<span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">// 输出 myCar、newCar 以及各自的 myHonda 对象引用的 color 属性。</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">' myCar = '</span> + <span class="built_in">JSON</span>.stringify(myCar));      </span><br><span class="line"><span class="comment">//myCar = [&#123;"color":"red","wheels":4,"engine":&#123;"cylinders":4,"size":2.2&#125;&#125;,2,"cherry condition","purchased 1997"]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'newCar = '</span> + <span class="built_in">JSON</span>.stringify(newCar));</span><br><span class="line"><span class="comment">//newCar = [&#123;"color":"red","wheels":4,"engine":&#123;"cylinders":4,"size":2.2&#125;&#125;,2]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">' myCar[0].color = '</span> + <span class="built_in">JSON</span>.stringify(myCar[<span class="number">0</span>].color));</span><br><span class="line"><span class="comment">// myCar[0].color = "red"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'newCar[0].color = '</span> + <span class="built_in">JSON</span>.stringify(newCar[<span class="number">0</span>].color));</span><br><span class="line"><span class="comment">//newCar[0].color = "red"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 改变 myHonda 对象的 color 属性.</span></span><br><span class="line">myHonda.color = <span class="string">'purple'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'The new color of my Honda is '</span> + myHonda.color);</span><br><span class="line"><span class="comment">//The new color of my Honda is purple</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//输出 myCar、newCar 中各自的 myHonda 对象引用的 color 属性。</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">' myCar[0].color = '</span> + myCar[<span class="number">0</span>].color);   <span class="comment">// myCar[0].color = purple</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'newCar[0].color = '</span> + newCar[<span class="number">0</span>].color);  <span class="comment">// newCar[0].color = purple</span></span><br></pre></td></tr></table></figure>



<p>类数组对象：slice方法可以用来将一个类数组对象/集合转换成一个新数组。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">list</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> list1 = list(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);  <span class="comment">//[1,2,3]</span></span><br></pre></td></tr></table></figure>

<p>除了使用<strong>Array.prototype.slice.call(arguments)</strong>外，还可以使用<strong>[].slice.call(arguments)</strong>来代替。</p>
<h4 id="join"><a href="#join" class="headerlink" title="join"></a>join</h4><p>该方法将一个数组或者一个类数组对象的所有元素连接成一个字符串并返回这个字符串。<strong>如果数组只有一个项目，那么将返回该项目而不使用分隔符。</strong></p>
<p>返回值：一个所有数组元素连接的字符串。如果arr.length=0，返回空字符串。</p>
<p>所有的数组元素被转换成字符串，在用一个分隔符将这些字符串连接起来。如果一个元素为undefined或者null，它会被转换为空字符串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">'wind'</span>];</span><br><span class="line"><span class="keyword">var</span> str = a.join();</span><br><span class="line"><span class="built_in">console</span>.log(str);    <span class="comment">//wind</span></span><br></pre></td></tr></table></figure>

<h4 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h4><p>该方法返回一个<strong>字符串</strong>，表示指定的数组及其元素。</p>
<p>当一个数组被作为文本值或者进行字符串连接操作时，会自动调用toString方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="string">'a'</span>,<span class="string">'333b'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(array1.toString())   <span class="comment">// 1,2,a,333b</span></span><br></pre></td></tr></table></figure>

<h4 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h4><p>该方法用于合并两个或多个数组。此方法不会更改现有数组，而是<strong>返回一个新数组</strong>。</p>
<p><strong>注意：</strong>数组/值在连接时保持不变。此外，对于新数组的任何操作（仅当元素不是对象引用时）都不会对原始数组产生影响，反之亦然。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//连接2个数组</span></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> b = [<span class="string">'a'</span>,<span class="string">'c'</span>,<span class="string">'112'</span>];</span><br><span class="line"><span class="keyword">var</span> c = a.concat(b);</span><br><span class="line"><span class="built_in">console</span>.log(c);  <span class="comment">//[1, 2, 3, "a", "c", "112"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//将值连接到数组</span></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> c = a.concat(<span class="number">2</span>,[<span class="string">'a'</span>,<span class="string">'333'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(c);   <span class="comment">//[1, 2, 3, 2, "a", "333"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//合并嵌套数组</span></span><br><span class="line"><span class="keyword">var</span> num1 = [[<span class="number">1</span>]];</span><br><span class="line"><span class="keyword">var</span> num2 = [<span class="number">2</span>, [<span class="number">3</span>]];</span><br><span class="line"><span class="keyword">var</span> num3=[<span class="number">5</span>,[<span class="number">6</span>]];</span><br><span class="line"><span class="keyword">var</span> nums = num1.concat(num2);</span><br><span class="line"><span class="built_in">console</span>.log(nums);</span><br><span class="line"><span class="comment">// results is [[1], 2, [3]]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> nums2=num1.concat(<span class="number">4</span>,num3);</span><br><span class="line"><span class="built_in">console</span>.log(nums2)</span><br><span class="line"><span class="comment">// results is [[1], 4, 5,[6]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// modify the first element of num1</span></span><br><span class="line">num1[<span class="number">0</span>].push(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(nums);</span><br><span class="line"><span class="comment">// results is [[1, 4], 2, [3]]</span></span><br></pre></td></tr></table></figure>

<h4 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf"></a>indexOf</h4><p>该方法返回在数组中可以找到一个给定元素的第一个索引，<strong>如果不存在返回-1</strong>.</p>
<p>参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr.indexOf(searchElement[, fromIndex])</span><br><span class="line"></span><br><span class="line">searchElement:要查找的元素</span><br><span class="line">formIndex:可选。开始查找的位置，如果该索引值大于或者等于数组长度，意味着不会在数组中查找，返回-1。如果参数中提供的索引是一个负数，则将其作为数组末尾的一个抵消，即-1表示从最后一个元素开始查找，-2表示从倒数第二个元素开始查找。</span><br></pre></td></tr></table></figure>

<p>返回值：首个被找到的元素在数组中的索引位置，没有找到返回-1.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [<span class="number">2</span>,<span class="number">5</span>,<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line">array.indexOf(<span class="number">2</span>);  <span class="comment">//0</span></span><br><span class="line">array.indexOf(<span class="number">7</span>);  <span class="comment">//-1</span></span><br><span class="line">array.indexOf(<span class="number">9</span>);  <span class="comment">//2</span></span><br><span class="line">array.indexOf(<span class="number">9</span>, <span class="number">2</span>);  <span class="comment">// 2</span></span><br><span class="line">array.indexOf(<span class="number">2</span>, <span class="number">-1</span>); <span class="comment">// -1</span></span><br><span class="line">array.indexOf(<span class="number">2</span>, <span class="number">-3</span>); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<p>indexOf不能识别NaN</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="string">'啦啦'</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">24</span>, <span class="literal">NaN</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a.indexOf(<span class="string">'啦'</span>)); <span class="comment">// -1 </span></span><br><span class="line"><span class="built_in">console</span>.log(a.indexOf(<span class="literal">NaN</span>)); <span class="comment">// -1 </span></span><br><span class="line"><span class="built_in">console</span>.log(a.indexOf(<span class="string">'啦啦'</span>)); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<h4 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf"></a>lastIndexOf</h4><p>该方法返回指定元素在数组中的最后一个的索引，如果不存在返回-1.从数组的后面向前查找，从fromIndex处开始。</p>
<p>参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr.lastIndexOf(searchElement[, fromIndex])</span><br><span class="line"></span><br><span class="line">searchElement:被查找的元素</span><br><span class="line">fromIndex:从此位置开始逆向查找。默认为数组的长度-1(arr.length-1)，即整个数组都被查找。如果该值大于或者等于数组的长度，则整个数组会被查找。如果为负数，将其视为从数组末尾向前的偏移。即使该值为负数组仍热按会被从后向前查找。如果该值为负数，其绝对值大于数组长度，则返回-1，数组不会被查找。</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [<span class="number">2</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> index = array.lastIndexOf(<span class="number">2</span>);   <span class="comment">// index is 3</span></span><br><span class="line">index = array.lastIndexOf(<span class="number">7</span>);   <span class="comment">// index is -1</span></span><br><span class="line">index = array.lastIndexOf(<span class="number">2</span>, <span class="number">3</span>);   <span class="comment">// index is 3</span></span><br><span class="line">index = array.lastIndexOf(<span class="number">2</span>, <span class="number">2</span>);  <span class="comment">// index is 0</span></span><br><span class="line">index = array.lastIndexOf(<span class="number">2</span>, <span class="number">-2</span>);  <span class="comment">// index is 0</span></span><br><span class="line">index = array.lastIndexOf(<span class="number">2</span>, <span class="number">-1</span>);  <span class="comment">// index is 3</span></span><br></pre></td></tr></table></figure>

</article><!-- lincense--><div class="post-paginator"><a class="nextSlogan" href="/2020/09/10/%E5%B8%B8%E8%A7%81%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="常见跨域解决方案"><span>NextPost ></span><br><span class="nextTitle">常见跨域解决方案</span></a><div class="clear"></div></div><div id="comment"></div></section></article><footer id="cxo-footer-outer"><div id="cxo-footer-inner"><p class="footer-container"><span>Site by </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span> | theme </span><a href="https://github.com/Longlongyu/hexo-theme-Cxo" target="_blank" rel="noopener"><span>Cxo</span></a></p><i class="fa fa-user"> </i><span id="busuanzi_value_site_uv"></span><span> | </span><i class="fa fa-eye"> </i><span id="busuanzi_value_site_pv"></span></div></footer><!-- catelog--><div class="toc-wrapper" style="top: 70vh;"><div class="toc-catalog"><i class="fa fa-list"> </i><span>CATALOG</span></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Array构造函数上的方法"><span class="toc-number">1.</span> <span class="toc-text">Array构造函数上的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Array-of"><span class="toc-number">1.1.</span> <span class="toc-text">Array.of()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Array-isArray"><span class="toc-number">1.2.</span> <span class="toc-text">Array.isArray()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Array-from"><span class="toc-number">1.3.</span> <span class="toc-text">Array.from()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常见方法"><span class="toc-number">2.</span> <span class="toc-text">常见方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#遍历方法"><span class="toc-number">2.1.</span> <span class="toc-text">遍历方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#forEach"><span class="toc-number">2.1.1.</span> <span class="toc-text">forEach()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#every"><span class="toc-number">2.1.2.</span> <span class="toc-text">every()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#some"><span class="toc-number">2.1.3.</span> <span class="toc-text">some()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#filter"><span class="toc-number">2.1.4.</span> <span class="toc-text">filter()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#map"><span class="toc-number">2.1.5.</span> <span class="toc-text">map()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduce"><span class="toc-number">2.1.6.</span> <span class="toc-text">reduce()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduceRight"><span class="toc-number">2.1.7.</span> <span class="toc-text">reduceRight</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#find-amp-findIndex"><span class="toc-number">2.1.8.</span> <span class="toc-text">find &amp; findIndex</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#keys-amp-valus-amp-entries"><span class="toc-number">2.1.9.</span> <span class="toc-text">keys &amp; valus &amp; entries</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#改变原始数组方法"><span class="toc-number">2.2.</span> <span class="toc-text">改变原始数组方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#splice"><span class="toc-number">2.2.1.</span> <span class="toc-text">splice</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sort"><span class="toc-number">2.2.2.</span> <span class="toc-text">sort</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pop"><span class="toc-number">2.2.3.</span> <span class="toc-text">pop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shift"><span class="toc-number">2.2.4.</span> <span class="toc-text">shift</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#unshift"><span class="toc-number">2.2.5.</span> <span class="toc-text">unshift</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#push"><span class="toc-number">2.2.6.</span> <span class="toc-text">push</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reverse"><span class="toc-number">2.2.7.</span> <span class="toc-text">reverse</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#copyWithin"><span class="toc-number">2.2.8.</span> <span class="toc-text">copyWithin</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fill"><span class="toc-number">2.2.9.</span> <span class="toc-text">fill</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不改变原始数组方法"><span class="toc-number">2.3.</span> <span class="toc-text">不改变原始数组方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#slice"><span class="toc-number">2.3.1.</span> <span class="toc-text">slice</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#join"><span class="toc-number">2.3.2.</span> <span class="toc-text">join</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#toString-NaN"><span class="toc-number">2.3.3.</span> <span class="toc-text">toString</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#concat"><span class="toc-number">2.3.4.</span> <span class="toc-text">concat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#indexOf"><span class="toc-number">2.3.5.</span> <span class="toc-text">indexOf</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lastIndexOf"><span class="toc-number">2.3.6.</span> <span class="toc-text">lastIndexOf</span></a></li></ol></li></ol></li></ol></div><!-- top--><i class="fa fa-arrow-up close" id="go-up" aria-hidden="true"></i></body></html>